apiVersion: argoproj.io/v1alpha1
kind: WorkflowTemplate
metadata:
  name: pre-sync
  labels:
    codefresh.io/promotion: 'true'
spec:
  arguments:
    parameters:
    - name: APP_NAME
    - name: COMMIT_SHA
    - name: COMMIT_AUTHOR
  entrypoint: echo
  templates:
  - name: echo
    script:
      image: alpine
      command:
      - sh
      source: |
        echo "syncing {{ workflow.parameters.APP_NAME }} to {{ workflow.parameters.COMMIT_SHA }}, author: {{ workflow.parameters.COMMIT_AUTHOR }} "
